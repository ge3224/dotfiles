#!/usr/bin/env bash

log() {
    echo "[CORE] $1"
}

log "Installing core system tools..."

# Core system utilities
packages=(
    "wl-clipboard"          # Wayland clipboard utilities
    "unzip"                 # Extract ZIP archives
    "zip"                   # Create ZIP archives
    "tar"                   # Archive creation/extraction
    "tree"                  # Directory visualization
    "fd"                    # Modern find alternative
    "ripgrep"               # Fast text search
    "btop"                  # Modern system monitor
    "lsof"                  # List open files
    "strace"                # System call tracing
    "jq"                    # JSON processor
    "fzf"                   # Fuzzy finder
    "wlr-randr"             # Display configuration
    "grim"                  # Screenshot utility
    "slurp"                 # Screen area selection
    "swappy"                # Screenshot annotation
    "git"                   # Version control
    "make"                  # Build automation
    "pkgconf"               # Compiler flags
    "lshw"                  # Hardware info
)

log "Installing packages: ${packages[*]}"

if command -v pacman >/dev/null 2>&1; then
    sudo pacman -S --needed --noconfirm "${packages[@]}"
else
    log "ERROR: No supported package manager found (pacman)"
    exit 1
fi

log "Core tools installation completed!"
